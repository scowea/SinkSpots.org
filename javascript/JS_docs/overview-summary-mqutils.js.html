<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
MapQuest Advantage JavaScript API Reference Documentation Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="mqutils.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b>MapQuest Advantage JavaScript API Reference Documentation</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>mqutils.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		This file contains the common utility functions used throughout the js API.<BR/><BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!alphaBackgrounds">alphaBackgrounds</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!display">display</a></b>(pid, name, value, id , sClass)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mq_display_distance">mq_display_distance</a></b>(totalDistance)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mq_display_time">mq_display_time</a></b>(totalTime)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mq_ParamExists">mq_ParamExists</a></b>(varname)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqAddEvent">mqAddEvent</a></b>(fObj, fEvent, fn)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 =ADD EVENT
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqBuildUrl">mqBuildUrl</a></b>(strQueryData)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 ***************************************************************************
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateA">mqCreateA</a></b>(container, href, title)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateDiv">mqCreateDiv</a></b>(container, className, id)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateFormInput">mqCreateFormInput</a></b>(container, id, spanClass, labelTxt, type, name, value, size, maxLength)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateFormSelect">mqCreateFormSelect</a></b>(container, id, spanClass, labelTxt, name, elements, node)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateHiddenInput">mqCreateHiddenInput</a></b>(form, id, name, value)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateImg">mqCreateImg</a></b>(container, src, width, height, id, name, alt)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateImgDiv">mqCreateImgDiv</a></b>(container, src, width, height, id, name, alt)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateInput">mqCreateInput</a></b>(container, id, type, name, value, size, maxLength)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateNSManager">mqCreateNSManager</a></b>(namespace)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateSpan">mqCreateSpan</a></b>(container, className, id)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqCreateXMLDocImportNode">mqCreateXMLDocImportNode</a></b>(ndNewRoot)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqDoRemote">mqDoRemote</a></b>(strQueryData, strDivName, strParentTagName, mqObj)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqFormatNumber">mqFormatNumber</a></b>(num,dec)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 ***************************************************************************
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetAdvantageMapPath">mqGetAdvantageMapPath</a></b>(transaction)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetAdvantageResultPath">mqGetAdvantageResultPath</a></b>(transaction)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetElementById">mqGetElementById</a></b>(fId)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 =GET ELEMENT BY ID
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetEventData">mqGetEventData</a></b>(evt)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 =GET EVENT DATA
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetGuid">mqGetGuid</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;private &nbsp;Node</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetNode">mqGetNode</a></b>(xmlDoc, strPath)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Crossbrowser wrapper used to return a node object given a specified xpath expression:
 ie xml doc <location><address></address></location>
 xpath expression /location/address will return a pointer to the address node
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;private &nbsp;String</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetNodeText">mqGetNodeText</a></b>(domNode)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 crossbrowser wrapper used to return the text of a given node
 ie loop on all <request> nodes in xml to change text
 document.getElementsByTagName("request");
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetPDivSize">mqGetPDivSize</a></b>( pMQMapObject )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 =GET parentDiv SIZE
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;private &nbsp;String</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetXPathNodeText">mqGetXPathNodeText</a></b>(xmlDoc, strPath)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 crossbrowser wrapper used to return the text of a given node given a specified xpath expression:
 ie xml doc <location><address>122 N Plum St.</address></location>
 xpath expression /location/address
 will return the string "122 N Plum St." or
 ie xml doc <locationCollection count="3">....</locationCollection>
 xpath expression /locationCollection/
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqGetXY">mqGetXY</a></b>(evt)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 GET XY
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqLimitDisplay">mqLimitDisplay</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqLogTime">mqLogTime</a></b>(str)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqPause">mqPause</a></b>(numberMillis)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqPrepareMapUrl">mqPrepareMapUrl</a></b>(strmapUrl)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqRemoveEvent">mqRemoveEvent</a></b>(fObj, fEvent, fn)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 =REMOVE EVENT
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;private &nbsp;Node</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqReplaceElementNode">mqReplaceElementNode</a></b>(xmlDoc, nodeDoc, xpath)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Used by saveXml method to replace a node
 using an XPath expr
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;private &nbsp;Node</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqReplaceNode">mqReplaceNode</a></b>(xmlDoc,node,strTxt)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Used by mqSetNodeText after it finds the node
 using an XPath expr, so other funcs that have
 a nodeList can set text on each node in a loop
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqResetTimeLogs">mqResetTimeLogs</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;private &nbsp;Node</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqSetNodeText">mqSetNodeText</a></b>(xmlDoc,strXPath,strTxt)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Used to replace/add text to an existing node
 ie <location><address></address></location>
 if this function is given the xpath /location/address
 it will add text to the address node if not present or replace
 existing text.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqSetPDivSize">mqSetPDivSize</a></b>( pMQMapObject, size )
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 =SET parentDiv SIZE
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqTransformXMLFromNode">mqTransformXMLFromNode</a></b>(ndXml,strXsl,dvParent)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqTransformXMLFromString">mqTransformXMLFromString</a></b>(strXml,strXsl,dvParent)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqurlencode">mqurlencode</a></b>(strVal)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 urlencode used to fix url before server call
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqUrlLimit">mqUrlLimit</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqXMLHttpRequest">mqXMLHttpRequest</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 =HTTP XML REQUEST
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;private &nbsp;String</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mqXmlToStr">mqXmlToStr</a></b>(xmlDoc)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Crossbrowser wrapper to convert an xml document object into a string
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview">try{
   var testCommons = new MQObject();
   testCommons = null;
}catch(error){
   throw <span class="literal">"You must include mqcommon.js or toolkit api script prior to mqutils.js."</span>;
}
var mqutils = 1;
<span class="comment">/**
 * <span class="attrib">@fileoverview</span> This file contains the common utility functions used throughout the js API.
 */</span>
 <span class="comment">/**
 * Create a function for array to push onto the stack if the browser does
 * not support it.
 * Older broswer including IE5 don't support the array.push() method.
 * <span class="attrib">@param</span> Arguments[] arguments Objects to push onto the array.
 * <span class="attrib">@return</span> Returns the length of the array.
 * <span class="attrib">@type</span> int
 * <span class="attrib">@private</span>
 */</span>
<span class="reserved">if</span> (!Array.<span class="reserved">prototype</span>.push) Array.<span class="reserved">prototype</span>.push = <span class="reserved">function</span>() {
   var length = Array.push.arguments.length;
   <span class="reserved">for</span> (var i=0; i &lt; length; i++) 
      <span class="reserved">this</span>[<span class="reserved">this</span>.length] = Array.push.arguments[i];
   <span class="reserved">return</span> <span class="reserved">this</span>.length;   
}; 

<span class="reserved">function</span> mq_ParamExists (varname) {
    var undef;
    <span class="reserved">return</span> (varname !== undef);
}

<span class="comment">/**
 * =GET ELEMENT BY ID
 */</span>
<span class="reserved">function</span> mqGetElementById(fId)
{
   <span class="reserved">if</span>(document.getElementById(fId))
   {
      <span class="reserved">return</span> document.getElementById(fId);
   }
   <span class="reserved">return</span> null;
} <span class="comment">//mqGetElementById(fId)</span>


<span class="comment">/*******************************************************************************/</span>
<span class="comment">/* OAPI Functions                                                              */</span>
<span class="comment">/*******************************************************************************/</span>
<span class="comment">//function used to update a script node used for remote data calls.</span>
<span class="comment">//takes a string of the query data and string of the div name</span>
<span class="reserved">function</span> mqBuildUrl(strQueryData)
{
   var mqServer = _mqServerPort.replace(/mapquest.com:?\d*/,<span class="literal">'mapquest.com'</span>);
   <span class="reserved">return</span> (_reqPrefix + mqServer + <span class="literal">"/oapi/transaction?"</span> + strQueryData + <span class="literal">"&amp;key="</span> + _mqKey);
}

<span class="reserved">function</span> mqUrlLimit()
{
   var maxLength = 2048;
   <span class="reserved">if</span> (mqBrowserInfo.isNS) {
      maxLength = 7168;
   }
   <span class="reserved">return</span> maxLength;
}

<span class="reserved">function</span> mqLimitDisplay()
{
   var dispLength = 2;
   <span class="reserved">if</span> (mqBrowserInfo.isNS) {
      dispLength = 7;
   }
   <span class="reserved">return</span> dispLength;
}

<span class="reserved">function</span> mqDoRemote(strQueryData, strDivName, strParentTagName, mqObj)
{
   var parent      = document.getElementsByTagName(strParentTagName).item(0);
   var scMQRemote   = mqGetElementById(strDivName);
   <span class="reserved">if</span>(scMQRemote)
   {
      parent.removeChild(scMQRemote);
   }
   scMQRemote    = document.createElement(<span class="literal">"script"</span>);
   var srcString = mqBuildUrl(strQueryData);
   <span class="reserved">if</span> (strQueryData.substring(0,4) == <span class="literal">"http"</span>)
   {
      srcString = strQueryData;
   }
   <span class="reserved">if</span> (srcString.length &gt; mqUrlLimit())
   {
      alert(<span class="literal">"The request query exceeds the limit ("</span>+mqLimitDisplay()+<span class="literal">" Kb) allowed for your browser type. Please reduce the amount of data in the request query!"</span>);
      <span class="reserved">return</span>;
   }
   scMQRemote.src = srcString;
   scMQRemote.type     = <span class="literal">"text/javascript"</span>;
   scMQRemote.id       = strDivName;
   parent.appendChild(scMQRemote);
}<span class="comment">//mqDoRemote()</span>

<span class="comment">//crossbrowser wrapper to create an xml document object</span>
<span class="comment">//by importing a node</span>
<span class="reserved">function</span> mqCreateXMLDocImportNode(ndNewRoot) {
   var newDoc;
   <span class="reserved">if</span> (document.implementation.createDocument){
      var newDoc = document.implementation.createDocument(<span class="literal">""</span>, <span class="literal">""</span>, null);
      try{newDoc.appendChild(newDoc.importNode(ndNewRoot,true))}catch(error){alert(error);alert(ndNewRoot.nodeName);};
   } <span class="reserved">else</span> <span class="reserved">if</span> (window.ActiveXObject){
      <span class="comment">// Internet Explorer, create a new XML document using ActiveX</span>
      <span class="comment">// and use loadXML as a DOM parser.</span>
      newDoc = new ActiveXObject(<span class="literal">"Microsoft.XMLDOM"</span>);
      newDoc.async=<span class="literal">"false"</span>;
      newDoc.loadXML(ndNewRoot.xml);
   }

   <span class="reserved">return</span> newDoc;
}
<span class="comment">//crossbrowser wrapper to convert an xml document object into a string</span>
<span class="comment">/**
 * Crossbrowser wrapper to convert an xml document object into a string
 * <span class="attrib">@param</span> Document xmlDoc Xml Document to be converted into a string
 * <span class="attrib">@return</span> Returns the converted xmlDoc as a String.
 * <span class="attrib">@type</span> String
 * <span class="attrib">@private</span>
 */</span>
<span class="reserved">function</span> mqXmlToStr(xmlDoc) {
   var strXml = new String;
   var serializer = null;
   <span class="reserved">if</span> (xmlDoc == null) <span class="reserved">return</span> <span class="literal">""</span>;

   <span class="reserved">if</span> (mqBrowserInfo.isNS) {
      serializer = new window.XMLSerializer();
      strXml = serializer.serializeToString(xmlDoc);
   } <span class="reserved">else</span> <span class="reserved">if</span> (mqBrowserInfo.isIE) {
      strXml = xmlDoc.xml;      
   }
   
   <span class="reserved">if</span>(mqBrowserInfo.isSafari)   
   {
      serializer = new window.XMLSerializer();
      strXml = serializer.serializeToString(xmlDoc);
      strXml = strXml || <span class="literal">""</span>;
      <span class="comment">//un-escaping &amp; for safari -start</span>
      strXml = strXml.replace( /#38;/g,<span class="literal">'&amp;'</span>);
      <span class="comment">//escaping &amp; for safari -stop</span>
   }
   <span class="reserved">return</span> strXml;
}


<span class="reserved">function</span> mqCreateNSManager(namespace) {

   var nsmgr ={
            normalResolver:
               xmlDoc.createNSResolver(xmlDoc.documentElement),
                  lookupNamespaceURI : <span class="reserved">function</span> (prefix) {
                     switch (prefix) {
                     case <span class="literal">"_mq"</span>:
                        <span class="reserved">return</span> namespace;
                     default:
                           <span class="reserved">return</span> <span class="reserved">this</span>.normalResolver.lookupNamespaceURI(prefix);
                  }
                }
            }
    <span class="reserved">return</span> nsmgr; 
}





<span class="comment">//crossbrowser wrapper used to return a node object given a specified xpath expression:</span>
<span class="comment">//ie xml doc &lt;location&gt;&lt;address&gt;&lt;/address&gt;&lt;/location&gt;</span>
<span class="comment">//xpath expression /location/address</span>
<span class="comment">//will return a pointer to the address node</span>
<span class="comment">/** 
 * Crossbrowser wrapper used to return a node object given a specified xpath expression:
 * ie xml doc &lt;location&gt;&lt;address&gt;&lt;/address&gt;&lt;/location&gt;
 * xpath expression /location/address will return a pointer to the address node
 * <span class="attrib">@param</span> Document xmlDoc Xml Document to be searched
 * <span class="attrib">@param</span> String strPath Path to search for in xmlDoc
 * <span class="attrib">@return</span> Returns the node if found.
 * <span class="attrib">@type</span> Node
 * <span class="attrib">@private</span>
  */</span>
<span class="reserved">function</span> mqGetNode(xmlDoc, strPath) {
   var node;
<span class="comment">//Safari adaptation start--</span>
   <span class="reserved">if</span> (mqBrowserInfo.isSafari)
   {
        var names = new Array();
        names = strPath.split(<span class="literal">'/'</span>);
        <span class="reserved">if</span>(names[names.length-1].indexOf(<span class="literal">'@'</span>) != -1)
        {
            names.splice(names.length-1,1);
        }
        var tree = xmlDoc.documentElement;
        var isfound = false;
        <span class="reserved">if</span>( names.length == 2 &amp;&amp; tree.tagName == names[1])
         isfound = true;
        <span class="reserved">else</span>
        {
           var length = names.length -1 ;
           <span class="reserved">for</span>(var i=1; i &lt; length ; i++)
           {
            isfound = false;
               <span class="reserved">if</span>(tree.tagName == names[i] &amp;&amp; tree.hasChildNodes())
               {
                 var nodes=(tree.hasChildNodes())?tree.childNodes.length:0;
                 <span class="reserved">for</span>(var j=0; j&lt;nodes; j++)
                 {

                  <span class="reserved">if</span>(tree.childNodes[j].tagName == names[i+1])
                  {
                   tree = tree.childNodes[j];
                   isfound = true;
                   break;
                  }
                 }
               }

               <span class="reserved">if</span> (names[i+1] &amp;&amp; names[i+1].indexOf(<span class="literal">'text()'</span>) != -1)
               {
                  isfound = true;
               }
                  <span class="reserved">if</span>(names[i + 1].indexOf(<span class="literal">'['</span>) != -1)
               {
                  var index = parseInt(names[i+1].substr(names[i+1].indexOf(<span class="literal">'['</span>)+1,names[i+1].indexOf(<span class="literal">']'</span>)-1));
                  names[i+1] = names[i+1].substr(0,names[i+1].indexOf(<span class="literal">'['</span>));
                  tree = xmlDoc.getElementsByTagName(names[i+1]).item(index -1);<span class="comment">//-1 for safari</span>
                  isfound = true;
               }
           }
         }
   node = (isfound==true)? tree: null;
   <span class="reserved">return</span> node;
   }
<span class="comment">//Safari adaptation stop--</span>
   <span class="reserved">else</span> <span class="reserved">if</span> (mqBrowserInfo.isIE) {
      node = xmlDoc.selectSingleNode(strPath);
      <span class="reserved">return</span> node;
   } <span class="reserved">else</span> <span class="reserved">if</span> (mqBrowserInfo.isNS) {
         node = xmlDoc.evaluate(strPath, xmlDoc, null, 9, null);
         <span class="reserved">return</span> node.singleNodeValue;
   }
   <span class="reserved">return</span> null;
}


<span class="comment">//crossbrowser wrapper used to return the text of a given node</span>
<span class="comment">//ie loop on all &lt;request&gt; nodes in xml to change text</span>
<span class="comment">// document.getElementsByTagName("request");</span>
<span class="comment">/**
 * crossbrowser wrapper used to return the text of a given node
 * ie loop on all &lt;request&gt; nodes in xml to change text
 * document.getElementsByTagName("request");
 * <span class="attrib">@param</span> Node domNode Node to extract the text from 
 * <span class="attrib">@return</span> Returns the text of the node.
 * <span class="attrib">@type</span> String
 * <span class="attrib">@private</span>
 */</span>
<span class="reserved">function</span> mqGetNodeText(domNode) {
   var elemText = <span class="literal">""</span>;
   <span class="reserved">if</span> (mqBrowserInfo.isIE) {
      elemText = domNode.text;
   } <span class="reserved">else</span> <span class="reserved">if</span> (mqBrowserInfo.isNS &amp;&amp; domNode.firstChild) {<span class="comment">//without domNode.firstChild condition giving error in Mac(safari).</span>
      elemText = domNode.firstChild.nodeValue;
   }
   <span class="reserved">if</span>(mqBrowserInfo.isSafari &amp;&amp; domNode.firstChild) {<span class="comment">//without domNode.firstChild condition giving error in Mac(safari).</span>
      elemText = domNode.firstChild.nodeValue;
      <span class="comment">// for Safari only elemText was null in some cases</span>
      elemText = (elemText ? elemText:<span class="literal">""</span>);
      <span class="comment">//un-escaping &amp; for safari -start</span>
      elemText = elemText.replace( /#38;/g,<span class="literal">'&amp;'</span>);
      <span class="comment">//un-escaping &amp; for safari -stop</span>
   }
   <span class="reserved">return</span> elemText;
}

<span class="comment">//crossbrowser wrapper used to return the text of a given node given a specified xpath expression:</span>
<span class="comment">//ie xml doc &lt;location&gt;&lt;address&gt;122 N Plum St.&lt;/address&gt;&lt;/location&gt;</span>
<span class="comment">//xpath expression /location/address</span>
<span class="comment">//will return the string "122 N Plum St." or</span>
<span class="comment">//ie xml doc &lt;locationCollection count="3"&gt;....&lt;/locationCollection&gt;</span>
<span class="comment">//xpath expression /locationCollection/<span class="attrib">@count</span></span>
<span class="comment">//will return a value of 3</span>
<span class="comment">/**
 * crossbrowser wrapper used to return the text of a given node given a specified xpath expression:
 * ie xml doc &lt;location&gt;&lt;address&gt;122 N Plum St.&lt;/address&gt;&lt;/location&gt;
 * xpath expression /location/address
 * will return the string "122 N Plum St." or
 * ie xml doc &lt;locationCollection count="3"&gt;....&lt;/locationCollection&gt;
 * xpath expression /locationCollection/<span class="attrib">@count</span>
 * will return a value of 3
 * <span class="attrib">@param</span> Document xmlDoc Xml Document to be searched
 * <span class="attrib">@param</span> String strPath XPath where the text is
 * <span class="attrib">@return</span> Returns the text of the node.
 * <span class="attrib">@type</span> String
 * <span class="attrib">@private</span>
 */</span>
<span class="reserved">function</span> mqGetXPathNodeText(xmlDoc, strPath) {
   var node;
<span class="comment">//Safari adaptation start--</span>
   <span class="reserved">if</span>(mqBrowserInfo.isSafari)
   {
   node = mqGetNode(xmlDoc, strPath);
   var nodeText=<span class="literal">""</span>;
   var attribute=<span class="literal">""</span>;
   <span class="comment">//for now support for @ only</span>
      <span class="reserved">if</span>(strPath.indexOf(<span class="literal">'@'</span>) != -1)
      {
         attribute = strPath.substr(strPath.indexOf(<span class="literal">'@'</span>)+1, strPath.length);
         nodeText = node.attributes.getNamedItem(attribute).nodeValue ;
      }
      <span class="reserved">else</span> <span class="reserved">if</span>(node)
      {
         nodeText = mqGetNodeText(node) ;
      }
      <span class="reserved">return</span> nodeText;
   }
<span class="comment">//Safari adaptation stop--</span>
   <span class="reserved">if</span> (mqBrowserInfo.isIE) {
      node = xmlDoc.selectSingleNode(strPath);
      <span class="reserved">return</span> (node == null ? <span class="literal">""</span> : node.text);
   } <span class="reserved">else</span> <span class="reserved">if</span> (mqBrowserInfo.isNS) {
      try{node = xmlDoc.evaluate(strPath, xmlDoc, null, 2, null);} catch(error) {alert(strPath); alert(error);}
      <span class="reserved">return</span> node.stringValue;
   }
   <span class="reserved">return</span> <span class="literal">""</span>;
}

<span class="comment">// used by mqSetNodeText after it finds the node</span>
<span class="comment">// using an XPath expr, so other funcs that have</span>
<span class="comment">// a nodeList can set text on each node in a loop</span>
<span class="comment">/** 
 * Used by mqSetNodeText after it finds the node
 * using an XPath expr, so other funcs that have
 * a nodeList can set text on each node in a loop
 * <span class="attrib">@param</span> Document xmlDoc Xml Document to be added to
 * <span class="attrib">@param</span> Node node Xml node to be replaced
 * <span class="attrib">@param</span> String strTxt text to add in the node
 * <span class="attrib">@return</span> Returns the node.
 * <span class="attrib">@type</span> Node
 * <span class="attrib">@private</span>
 */</span>
<span class="reserved">function</span> mqReplaceNode(xmlDoc,node,strTxt) {
   var ndNewText = xmlDoc.createTextNode(strTxt);
   <span class="reserved">if</span> (node.firstChild) {
      <span class="reserved">return</span> node.replaceChild(ndNewText,node.firstChild);
   } <span class="reserved">else</span> {
      <span class="reserved">return</span> node.appendChild(ndNewText);
   }
}

<span class="comment">/** 
 * Used by saveXml method to replace a node
 * using an XPath expr
 * <span class="attrib">@param</span> Document xmlDoc Xml Document to be added to
 * <span class="attrib">@param</span> Node nodeDoc Xml node to be replaced
 * <span class="attrib">@param</span> String xpath Xpath to node being replaced
 * <span class="attrib">@return</span> Returns the node.
 * <span class="attrib">@type</span> Node
 * <span class="attrib">@private</span>
 */</span>
<span class="reserved">function</span> mqReplaceElementNode(xmlDoc, nodeDoc, xpath) {
   var root = xmlDoc.documentElement;
   var newnode = nodeDoc.documentElement;
   var oldnode = xmlDoc.getElementsByTagName(xpath).item(0); 
   <span class="reserved">if</span>(mqBrowserInfo.isIE)
      node = newnode
   <span class="reserved">else</span>
      node = xmlDoc.importNode(newnode, true);
   <span class="reserved">if</span> (oldnode){
      root.replaceChild(node, oldnode); 
   } <span class="reserved">else</span> {
      root.appendChild(node);
   }
   <span class="reserved">return</span> xmlDoc;
}

<span class="comment">//used to replace/add text to an existing node</span>
<span class="comment">//ie &lt;location&gt;&lt;address&gt;&lt;/address&gt;&lt;/location&gt;</span>
<span class="comment">//if this function is given the xpath /location/address</span>
<span class="comment">//it will add text to the address node if not present or replace</span>
<span class="comment">//existing text. It will not add an address node.</span>
<span class="comment">/** 
 * Used to replace/add text to an existing node
 * ie &lt;location&gt;&lt;address&gt;&lt;/address&gt;&lt;/location&gt;
 * if this function is given the xpath /location/address
 * it will add text to the address node if not present or replace
 * existing text. It will not add an address node.
 * <span class="attrib">@param</span> Document xmlDoc Xml Document to be changed
 * <span class="attrib">@param</span> String strXPath XPath where the text is to be set
 * <span class="attrib">@param</span> String strTxt Text to change in the node
 * <span class="attrib">@return</span> Returns the node.
 * <span class="attrib">@type</span> Node
 * <span class="attrib">@private</span>
 */</span>
<span class="reserved">function</span> mqSetNodeText(xmlDoc,strXPath,strTxt) {
   var ndParent = mqGetNode(xmlDoc,strXPath);
   <span class="reserved">if</span> (ndParent == null) {
      <span class="reserved">return</span> null;
   }
   <span class="reserved">return</span> mqReplaceNode(xmlDoc,ndParent,strTxt);
}

<span class="comment">//crossbrowser wrapper used to return xhtml from xml xsl strings.</span>
<span class="reserved">function</span> mqTransformXMLFromString(strXml,strXsl,dvParent) {
   var xmlDoc = mqCreateXMLDoc(strXml);
   var xslDoc = mqCreateXMLDoc(strXsl);
   var newFragment;

   <span class="reserved">if</span> (mqBrowserInfo.isNS) {
      var xsltProcessor = new XSLTProcessor();
      xsltProcessor.importStylesheet(xslDoc);
      newFragment = xsltProcessor.transformToFragment(xmlDoc, document);
      dvParent.appendChild(newFragment);
   } <span class="reserved">else</span> <span class="reserved">if</span> (mqBrowserInfo.isIE) {
      var newFragment = new ActiveXObject(<span class="literal">"Msxml2.DOMDocument.5.0"</span>);
      newFragment = xmlDoc.transformNode(xslDoc);
      dvParent.innerHTML += newFragment;
   }
}

<span class="comment">//crossbrowser wrapper used to return xhtml from an xml node an xsl string.</span>
<span class="reserved">function</span> mqTransformXMLFromNode(ndXml,strXsl,dvParent) {
   var xslDoc = mqCreateXMLDoc(strXsl);
   var newFragment;

   <span class="reserved">if</span> (mqBrowserInfo.isNS) {
      var xsltProcessor = new XSLTProcessor();
      xsltProcessor.importStylesheet(xslDoc);
      newFragment = xsltProcessor.transformToFragment(ndXml, document);
      dvParent.appendChild(newFragment);
   } <span class="reserved">else</span> <span class="reserved">if</span> (mqBrowserInfo.isIE) {
      var newFragment = new ActiveXObject(<span class="literal">"Msxml2.DOMDocument.5.0"</span>);
      newFragment = ndXml.transformNode(xslDoc);
      dvParent.innerHTML += newFragment;
   }
}


<span class="comment">/**
 * =PNG/IE FIX
 * Work around to make PNG alpha transparency for IE - Thanks to Drew McLellan @ allinthehead.com
 */</span>
mqAddEvent(window, <span class="literal">"load"</span>,alphaBackgrounds);

<span class="reserved">function</span> alphaBackgrounds(){
   <span class="reserved">if</span>(navigator.platform == <span class="literal">"Win32"</span> &amp;&amp; navigator.appName == <span class="literal">"Microsoft Internet Explorer"</span> &amp;&amp; window.attachEvent) {
      var rslt = navigator.appVersion.match(/MSIE (\d+\.\d+)/, <span class="literal">''</span>);
      var itsAllGood = (rslt != null &amp;&amp; Number(rslt[1]) &gt;= 5.5);
      <span class="reserved">for</span> (i=0; i&lt;document.all.length; i++){
         var bg = document.all[i].currentStyle.backgroundImage;
         <span class="reserved">if</span> (itsAllGood &amp;&amp; bg){
            <span class="reserved">if</span> (bg.match(/\.png/i) != null){
               var mypng = bg.substring(5,bg.length-2);
               document.all[i].style.filter = <span class="literal">"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"</span>+mypng+<span class="literal">"', sizingMethod='scale')"</span>;
               document.all[i].style.backgroundImage = <span class="literal">"url(/images/background-form-button.gif)"</span>;
            }
         }
      }
   }
}

<span class="comment">/*******************************************************************************/</span>
<span class="comment">/* Following section contains functions for formatting numbers/time/distance   */</span>
<span class="comment">/*******************************************************************************/</span>
<span class="comment">//function used to format a number (num) to x(dec) decimal places</span>
<span class="reserved">function</span> mqFormatNumber(num,dec) {
   <span class="reserved">return</span> Math.floor(num * Math.pow(10,dec))/Math.pow(10,dec);
}

<span class="comment">//function displays the time in format x hours, x.xx minutes or x.xx minutes</span>
<span class="reserved">function</span> mq_display_time(totalTime) {
   var newTime;
   <span class="comment">// more than a minute</span>
   <span class="reserved">if</span>(totalTime &gt; 3600)
   {
      newTime = totalTime/3600;
      var result = (<span class="literal">" "</span> + Math.floor(newTime) + <span class="literal">" hours,"</span>);
      newTime = (totalTime/60)%60;
      result += (<span class="literal">" "</span> + mqFormatNumber(newTime,2) + <span class="literal">" minutes"</span>);
      <span class="reserved">return</span> result;
   }
   <span class="reserved">if</span>(totalTime &gt; 60)
   {
      newTime = totalTime/60;
      <span class="reserved">return</span> (<span class="literal">" "</span> + mqFormatNumber(newTime,2) + <span class="literal">" minutes"</span>);
   }
}

<span class="comment">//function used to display distance formated in a div with right alignment.</span>
<span class="comment">//outputs miles or kilometers with 2 digits of precision</span>
<span class="reserved">function</span> mq_display_distance(totalDistance) {
   <span class="reserved">return</span> (<span class="literal">" "</span> + mqFormatNumber(totalDistance.value,2) + (totalDistance.units == <span class="literal">"mi"</span> ? <span class="literal">" miles"</span> : <span class="literal">" kilometers"</span>));
}

<span class="comment">/*******************************************************************************/</span>
<span class="comment">/* Following section contains functions for adding common DOM elements to tree */</span>
<span class="comment">/*******************************************************************************/</span>
var isIE5Mac = (navigator.userAgent.indexOf(<span class="literal">'MSIE 5'</span>) != -1 &amp;&amp; navigator.userAgent.indexOf(<span class="literal">'Mac'</span>) != -1);

<span class="reserved">function</span> mqCreateFormInput (container, id, spanClass, labelTxt, type, name, value, size, maxLength) {
   var div = container.appendChild (document.createElement (<span class="literal">'div'</span>));
   div.className = <span class="literal">'row'</span>;
   var label = div.appendChild (document.createElement (<span class="literal">'label'</span>));
   label.htmlFor = id;
   label.appendChild (document.createTextNode (labelTxt));
   div.appendChild (document.createElement (<span class="literal">'br'</span>));
   var input = document.createElement (<span class="literal">'input'</span>);
   input.id        = id;
   input.type      = type;
   input.name      = name;
   <span class="reserved">if</span> (size != <span class="literal">""</span>) {
      input.size      = size;
   }
   <span class="reserved">if</span> (!isNaN(parseInt(maxLength))) {
      input.maxLength = parseInt(maxLength);
   }
   <span class="reserved">if</span> (value != <span class="literal">""</span>) {
      input.value = value;
   }

   <span class="reserved">if</span> (spanClass != <span class="literal">""</span>) {
      var span = div.appendChild (document.createElement (<span class="literal">'span'</span>));
      span.className = spanClass;
      span.appendChild (input);
   } <span class="reserved">else</span> {
      div.appendChild (input);
   }
}

<span class="reserved">function</span> mqCreateInput (container, id, type, name, value, size, maxLength) {
   var input = document.createElement (<span class="literal">'input'</span>);
   input.id        = id;
   input.type      = type;
   input.name      = name;
   <span class="reserved">if</span> (size != <span class="literal">""</span>) {
      input.size      = size;
   }
   <span class="reserved">if</span> (!isNaN(parseInt(maxLength))) {
      input.maxLength = parseInt(maxLength);
   }
   <span class="reserved">if</span> (value != <span class="literal">""</span>) {
      input.value = value;
   }
   container.appendChild (input);
}

<span class="reserved">function</span> mqCreateHiddenInput (form, id, name, value) {
   var input;
   <span class="reserved">if</span> (isIE5Mac) {
      input = document.createElement (<span class="literal">'input type=hidden'</span>);
   } <span class="reserved">else</span> {
      input = document.createElement (<span class="literal">'input'</span>);
      input.type  = <span class="literal">'hidden'</span>;
   }
   input.name  = name;
   <span class="reserved">if</span> (id != <span class="literal">''</span>) {
      input.id    = id;
   }
   <span class="reserved">if</span> (value != <span class="literal">''</span>) {
      input.value = value;
   }
   form.appendChild (input);
}

<span class="reserved">function</span> mqCreateFormSelect (container, id, spanClass, labelTxt, name, elements, node) {
   var div = container.appendChild (document.createElement (<span class="literal">'div'</span>));
   div.className = <span class="literal">'row'</span>;
   var label = div.appendChild (document.createElement (<span class="literal">'label'</span>));
   label.htmlFor = id;
   label.appendChild (document.createTextNode (labelTxt));
   div.appendChild (document.createElement (<span class="literal">'br'</span>));
   <span class="reserved">if</span> (spanClass != <span class="literal">""</span>) {
      var span = div.appendChild (document.createElement (<span class="literal">'span'</span>));
      span.className = spanClass;
      var select = span.appendChild (document.createElement (<span class="literal">'select'</span>));
   } <span class="reserved">else</span> {
      var select = div.appendChild (document.createElement (<span class="literal">'select'</span>));
   }
   select.id = id;
   select.name = name;
   length = elements.length;
   <span class="reserved">for</span> (x=0; x &lt; length; x++) {
      var option = select.appendChild (document.createElement (<span class="literal">'option'</span>));
      eval (<span class="literal">"option.value = elements[x]."</span> + node);
      eval (<span class="literal">"option.appendChild (document.createTextNode (elements[x]."</span> + node + <span class="literal">"))"</span>);
   }
   <span class="reserved">return</span> select;
}

<span class="reserved">function</span> mqCreateDiv (container, className, id) {
   var div = container.appendChild (document.createElement (<span class="literal">'div'</span>));
   <span class="reserved">if</span> (className != <span class="literal">""</span>) {
      div.className = className;
   }
   <span class="reserved">if</span> (id != <span class="literal">""</span>) {
      div.id = id;
   }
   <span class="reserved">return</span> div;
}

<span class="reserved">function</span> mqCreateA (container, href, title) {
   var a = container.appendChild (document.createElement (<span class="literal">'a'</span>));
   a.href = href;
   <span class="reserved">if</span> (title != <span class="literal">""</span>) {
      a.title = title;
   }
   <span class="reserved">return</span> a;
}

<span class="reserved">function</span> mqCreateSpan (container, className, id) {
   var span = container.appendChild (document.createElement (<span class="literal">'span'</span>));

   <span class="reserved">if</span> (className != <span class="literal">""</span>) {
      span.className = className;
   }
   <span class="reserved">if</span> (id != <span class="literal">""</span>) {
      span.id = id;
   }
   <span class="reserved">return</span> span;
}

<span class="reserved">function</span> mqCreateImg (container, src, width, height, id, name, alt) {
   var img = container.appendChild (document.createElement (<span class="literal">'img'</span>));

   <span class="reserved">if</span> (src != <span class="literal">""</span>) {
      img.src = src;
   }

   <span class="reserved">if</span> (!isNaN(parseInt(width))) {
      img.width = parseInt(width);
   }
   <span class="reserved">if</span> (!isNaN(parseInt(height))) {
      img.height = parseInt(height);
   }
   <span class="reserved">if</span> (id != <span class="literal">""</span>) {
      img.id = id;
   }
   <span class="reserved">if</span> (name != <span class="literal">""</span>) {
      img.name = name;
   }
   <span class="reserved">if</span> (alt != <span class="literal">""</span>) {
      img.alt = alt;
   }
   <span class="reserved">return</span> img;
}

<span class="reserved">function</span> mqCreateImgDiv (container, src, width, height, id, name, alt) {
    var div = container.appendChild (document.createElement (<span class="literal">'div'</span>));
    <span class="reserved">if</span> (id != <span class="literal">""</span>) {
        div.id = id;
    }
    <span class="reserved">if</span> (!isNaN(parseInt(width))) {
        div.style.width = parseInt(width)+<span class="literal">"px"</span>;
    }
    <span class="reserved">if</span> (!isNaN(parseInt(height))) {
        div.style.height = parseInt(height)+<span class="literal">"px"</span>;
    }
    <span class="reserved">if</span> (name != <span class="literal">""</span>) {
        div.name = name;
    }
    <span class="reserved">if</span> (alt != <span class="literal">""</span>) {
        div.alt = alt;
    }
    <span class="reserved">return</span> div;
}
<span class="comment">/**
 * =HTTP XML REQUEST
 * <span class="attrib">@makes</span> a XMLHttpRequest standardized for supported browsers
 */</span>
<span class="reserved">function</span> mqXMLHttpRequest()
{
    var request = null;
    <span class="reserved">if</span>(window.XMLHttpRequest)
    {   <span class="comment">//moz, safari1.2+, opera8</span>
        try
        {
            request = new XMLHttpRequest();
        }
        catch(e)
        {
            request = null;
        }
    }
    <span class="reserved">else</span> <span class="reserved">if</span>(window.ActiveXObject)
    {   <span class="comment">//ie5.5+</span>
        try
        {
            request = new ActiveXObject(<span class="literal">"Msxml2.XMLHTTP"</span>);
        }
        catch(e)
        {
            try
            {
                request = new ActiveXObject(<span class="literal">"Microsoft.XMLHTTP"</span>);
            }
            catch(e)
            {
                request = null;
            }
        }
    }
    <span class="reserved">return</span> request;
} <span class="comment">//mqXMLHttpRequest()</span>


<span class="comment">/*******************************************************************************/</span>
<span class="comment">/*Event Listener Code                                                          */</span>
<span class="comment">/*******************************************************************************/</span>
<span class="comment">/**
 * =ADD EVENT
 * <span class="attrib">@attach</span> event listener
 */</span>
<span class="reserved">function</span> mqAddEvent(fObj, fEvent, fn)
{
    <span class="reserved">if</span>(window.opera &amp;&amp; mqBrowserInfo.version &lt; 8)
    {   <span class="comment">// opera has bad dynamic event handling</span>
        var r = fObj.attachEvent(<span class="literal">"on"</span>+fEvent, fn);
        <span class="reserved">return</span> r;
    }
    <span class="reserved">else</span> <span class="reserved">if</span> (fObj.addEventListener)
    {   <span class="comment">// moz, w3c</span>
        ((window.opera) &amp;&amp; (mqBrowserInfo.version &gt;= 8))?fObj.addEventListener(fEvent, fn, false):fObj.addEventListener(fEvent, fn, true);
        <span class="reserved">return</span> true;
    }
    <span class="reserved">else</span> <span class="reserved">if</span> (fObj.attachEvent)
    {   <span class="comment">// IE</span>
        var r = fObj.attachEvent(<span class="literal">"on"</span>+fEvent, fn);
        <span class="reserved">return</span> r;
    }
    <span class="reserved">else</span>
    {   <span class="comment">//other</span>
        fObj[<span class="literal">"on"</span> + fEvent] = fn;
    }
}<span class="comment">//addEvent()</span>

<span class="comment">/**
 * =REMOVE EVENT
 * <span class="attrib">@detach</span> event listener
 */</span>
<span class="reserved">function</span> mqRemoveEvent(fObj, fEvent, fn)
{
    <span class="reserved">if</span>(window.opera)
    {   <span class="comment">// opera has bad dynamic event handling</span>
        eval(<span class="literal">"fObj.on"</span> + fEvent + <span class="literal">" = null"</span>);
    }
    <span class="reserved">if</span>(fObj.removeEventListener)
    {   <span class="comment">//w3c</span>
        ((window.opera) &amp;&amp; (mqBrowserInfo.version &gt;= 8))?fObj.removeEventListener(fEvent, fn, false):fObj.removeEventListener(fEvent, fn, true);
    }
    <span class="reserved">else</span> <span class="reserved">if</span>(fObj.detachEvent)
    {   <span class="comment">//ie</span>
        fObj.detachEvent(<span class="literal">"on"</span> + fEvent, fn);
    }
    <span class="reserved">else</span>
    {   <span class="comment">//opera and other</span>
        fObj[<span class="literal">"on"</span> + fEvent] = null;
    }
} <span class="comment">//mqRemoveEvent()</span>

<span class="comment">/**
 * =GET EVENT DATA
 * <span class="attrib">@return</span> the id that event is attached to
 */</span>
<span class="reserved">function</span> mqGetEventData(evt)
{
    fEventData = new Object();
    <span class="reserved">if</span>(document.addEventListener)
    {
        fEventData.id   = evt.target.id;
        fEventData.type = evt.type;
        fEventData.element = evt.target;
    }
    <span class="reserved">else</span> <span class="reserved">if</span>(window.event)
    {
        fEventData.id   = window.event.srcElement.id;
        fEventData.type = window.event.type;
        fEventData.element = window.event.srcElement;
    }
    <span class="reserved">else</span>
    {
        <span class="reserved">return</span> null;
    }
    <span class="reserved">return</span> fEventData;
} <span class="comment">//mqGetEventData()</span>


<span class="comment">/*******************************************************************************/</span>
<span class="comment">/*Document Coordinate calculations                                             */</span>
<span class="comment">/*******************************************************************************/</span>
<span class="comment">/**
 * GET XY
 * <span class="attrib">@get</span> the XY coordinates
 * <span class="attrib">@returns</span> an array containing the event target id, and xy data for page and target
 *
 */</span>
<span class="reserved">function</span> mqGetXY(evt)
{
    xyData = new Object();
    <span class="reserved">if</span>(!document.createElement || !document.getElementsByTagName) <span class="reserved">return</span>;
    <span class="reserved">if</span>(!document.createElementNS)
    {   <span class="comment">// to work in html and xml namespaces</span>
        document.createElementNS = <span class="reserved">function</span>(ns,elt)
        {
            <span class="reserved">return</span> document.createElement(elt);
        }
    }
    <span class="reserved">if</span>(document.addEventListener &amp;&amp; typeof evt.pageX == <span class="literal">"number"</span>)
    {   <span class="comment">// Moz and Opera</span>
        var Element                     = evt.target;
        var CalculatedTotalOffsetLeft   = CalculatedTotalOffsetTop = 0;
        <span class="reserved">while</span>(Element.offsetParent)
        {
            CalculatedTotalOffsetLeft   += Element.offsetLeft;
            CalculatedTotalOffsetTop    += Element.offsetTop;
            Element                      = Element.offsetParent;
        }
        var OffsetXForNS6   = evt.pageX - CalculatedTotalOffsetLeft;
        var OffsetYForNS6   = evt.pageY - CalculatedTotalOffsetTop;
        xyData.elementId    = evt.target.id;
        xyData.elementX     = OffsetXForNS6;
        xyData.elementY     = OffsetYForNS6;
        xyData.pageX        = evt.pageX;
        xyData.pageY        = evt.pageY;
    }
    <span class="reserved">else</span> <span class="reserved">if</span>(window.event &amp;&amp; typeof window.event.offsetX == <span class="literal">"number"</span>)
    {   <span class="comment">//ie</span>
        xyData.elementId    = window.event.srcElement.id;
        xyData.elementX     = event.offsetX;
        xyData.elementY     = event.offsetY;
        xyData.pageX        = 0;
        xyData.pageY        = 0;
        var element         = mqGetElementById(xyData.elementId);
        <span class="reserved">while</span>(element)
        {
            xyData.pageX += element.offsetLeft;
            xyData.pageY += element.offsetTop;
            element = element.offsetParent;
        }
        xyData.pageX += xyData.elementX;
        xyData.pageY += xyData.elementY;
    }
    <span class="reserved">return</span> xyData;
}<span class="comment">//mqGetXY()</span>

<span class="comment">/**
 * =GET parentDiv SIZE
 * <span class="attrib">@get</span> height and width of containing div canvas
 */</span>
<span class="reserved">function</span> mqGetPDivSize( pMQMapObject )
{
    <span class="comment">// for openapi</span>
    <span class="comment">// 2 pixels padding overall div</span>
    size = new MQSize();

    <span class="comment">// Temporary defaults if the user hasn't set div size</span>
    <span class="reserved">if</span>( pMQMapObject.parent.style.width.length == 0)
      pMQMapObject.parent.style.width = <span class="literal">"800px"</span>;
    <span class="reserved">if</span>( pMQMapObject.parent.style.height.length == 0)
      pMQMapObject.parent.style.height = <span class="literal">"600px"</span>;
    size.setWidth(parseInt(pMQMapObject.parent.style.width) - 4);
    size.setHeight(parseInt(pMQMapObject.parent.style.height) - 4);
    <span class="reserved">return</span> size;
}

<span class="comment">/**
 * =SET parentDiv SIZE
 * <span class="attrib">@set</span> height and width of containing div canvas
 */</span>
<span class="reserved">function</span> mqSetPDivSize( pMQMapObject, size )
{
    pMQMapObject.parent.style.width  = size.getWidth() + <span class="literal">"px"</span>;
    pMQMapObject.parent.style.height = size.getHeight() + <span class="literal">"px"</span>;
}

<span class="comment">/**
*  urlencode used to fix url before server call
*/</span>
<span class="reserved">function</span> mqurlencode(strVal)
{
   var strEncode;
   strEncode = strVal.replace(/%/g,<span class="literal">"%25"</span>);
   strEncode = strEncode.replace(/&amp;/g,<span class="literal">"%26"</span>);
   strEncode = strEncode.replace(/#/g,<span class="literal">"%23"</span>);
   strEncode = strEncode.replace(/\<span class="comment">//g,"%2F");</span>
   strEncode = strEncode.replace(/:/g,<span class="literal">"%3A"</span>);
   strEncode = strEncode.replace(/;/g,<span class="literal">"%3B"</span>);
   strEncode = strEncode.replace(/=/g,<span class="literal">"%3D"</span>);
   strEncode = strEncode.replace(/\?/g,<span class="literal">"%3F"</span>);
   strEncode = strEncode.replace(/@/g,<span class="literal">"%40"</span>);
   strEncode = strEncode.replace(/\$/g,<span class="literal">"%24"</span>);
   strEncode = strEncode.replace(/,/g,<span class="literal">"%2C"</span>);
   strEncode = strEncode.replace(/\+/g,<span class="literal">"%2B"</span>);
   <span class="reserved">return</span> strEncode;
}

<span class="reserved">function</span> mqGetGuid()
{
   var org = new Date(2006,0,1);
   var now = new Date();
   do {
      var cur = new Date();
   }<span class="reserved">while</span>(cur - now &lt; 1);

   var diff = cur.getTime()-org.getTime();
   <span class="reserved">return</span> (Math.ceil(diff));

}
<span class="reserved">function</span> mqPause(numberMillis)
{
   var now = new Date();
   var exitTime = now.getTime() + numberMillis;
   <span class="reserved">while</span> (true)
   {
      now = new Date();
   <span class="reserved">if</span> (now.getTime() &gt; exitTime)
      <span class="reserved">return</span>;
   }
}
var _mqLogStartTime = null;
var _mqLogCurTime = null;
var _mqLogprevTime = null;
<span class="reserved">function</span> mqLogTime(str)
{
   <span class="reserved">if</span>(mqGetElementById(<span class="literal">"mqTimeLogs"</span>))
   {
     var logtext = mqGetElementById(<span class="literal">"mqTimeLogs"</span>);
     var mqTimeLogger = new Date();
     <span class="reserved">if</span>( _mqLogStartTime == null) {
     	logtext.value = <span class="literal">"Time(ms) Difference\t Message\n"</span>;
     	_mqLogStartTime = mqTimeLogger.getTime();
     	_mqLogprevTime = _mqLogStartTime;
     } 
     _mqLogCurTime = mqTimeLogger.getTime();
	 var diff = _mqLogCurTime - _mqLogStartTime;
	 var del = _mqLogCurTime - _mqLogprevTime;
     logtext.value = logtext.value + diff + <span class="literal">"\t "</span> + del + <span class="literal">"\t\t "</span> + str + <span class="literal">"\n"</span>;
     _mqLogprevTime = _mqLogCurTime;
   }

}
<span class="reserved">function</span> mqResetTimeLogs()
{
	<span class="reserved">if</span>(mqGetElementById(<span class="literal">"mqTimeLogs"</span>))
    {
	     var logtext = mqGetElementById(<span class="literal">"mqTimeLogs"</span>);
	     var mqTimeLogger = new Date();
	 	 logtext.value = <span class="literal">"Time(ms) Difference\t Message\n"</span>;
	 	 _mqLogStartTime = mqTimeLogger.getTime();
	 	 _mqLogprevTime = _mqLogStartTime;
    }
}

<span class="reserved">function</span> mqGetAdvantageResultPath(transaction) {
   var resultsPath ;
   <span class="reserved">if</span> (transaction == <span class="literal">"poiMap"</span>)
      resultsPath = <span class="literal">"poiResults"</span>;
   <span class="reserved">else</span> <span class="reserved">if</span> (transaction == <span class="literal">"locMap"</span>)
      resultsPath = <span class="literal">"locations"</span>;
   <span class="reserved">else</span> <span class="reserved">if</span> (transaction == <span class="literal">"search"</span>)
      resultsPath = <span class="literal">"searchResults"</span>;

   <span class="reserved">return</span> resultsPath;
}

<span class="reserved">function</span> mqGetAdvantageMapPath(transaction) {
   var mapPath ;
   <span class="reserved">if</span> (transaction == <span class="literal">"locMap"</span>)
      mapPath = <span class="literal">"/advantage/"</span>+transaction+<span class="literal">"/locations/location/map"</span>;
   <span class="reserved">else</span>
      mapPath = <span class="literal">"/advantage/"</span>+transaction+<span class="literal">"/map"</span>;
   <span class="reserved">return</span> mapPath;
}

<span class="reserved">function</span> mqPrepareMapUrl(strmapUrl) {
   var mapUrl = <span class="literal">""</span>;
   mapUrl = strmapUrl.replace(/https?:\/\<span class="comment">//,_reqPrefix);</span>
   mapUrl = mapUrl.replace(/mapquest.com:?\d*/,<span class="literal">'mapquest.com'</span>);
   mapUrl = mapUrl.replace(/iwebsys.aol.com:?\d*/,<span class="literal">'iwebsys.aol.com'</span>);
   <span class="reserved">return</span> mapUrl;
}
  
  
<span class="reserved">function</span> display(pid, name, value, id , sClass) {

   <span class="reserved">if</span> (mqGetElementById(pid)) {
      var div = mqGetElementById(pid);
      var label = div.appendChild (document.createElement (<span class="literal">'label'</span>));
      var bb = label.appendChild (document.createElement (<span class="literal">'b'</span>));
      bb.appendChild (document.createTextNode (name));
      div.appendChild (document.createElement (<span class="literal">'br'</span>));
      var span = div.appendChild (document.createElement (<span class="literal">'textarea'</span>));
      span.className = sClass;
      span.style.overflow = <span class="literal">"auto"</span>;
      <span class="reserved">if</span>(id != null) span.id = id;
      span.appendChild (document.createTextNode (value));
      div.appendChild (document.createElement (<span class="literal">'br'</span>));
      div.appendChild (document.createElement (<span class="literal">'br'</span>));
   }
}   
</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b>MapQuest Advantage JavaScript API Reference Documentation</b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Fri Oct 19 08:54:32 2007</div>
</body>
</html>
